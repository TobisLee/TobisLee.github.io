<html>
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Manjaro系统美化与配置 | Leon&#39;s Blog</title>
<meta name="description" content="脚踏实地，仰望星空" />
<link rel="shortcut icon" href="https://tobislee.github.io//favicon.ico?v=1576327387521">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
<link rel="stylesheet" href="https://tobislee.github.io//styles/main.css">

<script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Droid+Serif:400,700">



  </head>
  <body>
    <div class="main">
      <div class="main-content">
        <div class="site-header">
  <a href="https://tobislee.github.io/">
  <img class="avatar" src="https://tobislee.github.io//images/avatar.png?v=1576327387521" alt="">
  </a>
  <h1 class="site-title">
    Leon&#39;s Blog
  </h1>
  <p class="site-description">
    脚踏实地，仰望星空
  </p>
  <div class="menu-container">
    
      
        <a href="/" class="menu">
          首页
        </a>
      
    
      
        <a href="/archives" class="menu">
          归档
        </a>
      
    
      
        <a href="/tags" class="menu">
          标签
        </a>
      
    
      
        <a href="/post/about" class="menu">
          关于
        </a>
      
    
  </div>
  <div class="social-container">
    
      
        <a href="https://github.com/TobisLee" target="_blank">
          <i class="fab fa-github"></i>
        </a>
      
    
      
        <a href="https://twitter.com/tlss55159552" target="_blank">
          <i class="fab fa-twitter"></i>
        </a>
      
    
      
    
      
    
      
    
  </div>
</div>

        <div class="post-detail">
          <article class="post">
            <h2 class="post-title">
              Manjaro系统美化与配置
            </h2>
            <div class="post-info">
              <span>
                2018-11-01
              </span>
              <span>
                3 min read
              </span>
              
                <a href="https://tobislee.github.io//tag/1PqNYEG8EF" class="post-tag">
                  # linux
                </a>
              
                <a href="https://tobislee.github.io//tag/gcq8mBYD-A" class="post-tag">
                  # customize
                </a>
              
            </div>
            
            <div class="post-content-wrapper">
              <div class="post-content">
                <h2 id="1-安装完系统后首先要做的工作">1. 安装完系统后首先要做的工作</h2>
<h3 id="增加国内镜像源">增加国内镜像源</h3>
<p>在命令行下运行</p>
<pre><code class="language-bash">$ sudo pacman-mirrors -i -c China -m rank
</code></pre>
<p>然后选择你想要的镜像源</p>
<figure data-type="image" tabindex="1"><img src="https://i.loli.net/2018/12/27/5c24753a94d3f.png" alt="选择你想要的镜像源"></figure>
<p>点击两次OK即可，之后<code>/etc/pacman.d/mirrorlist</code>就会更新成国内源</p>
<h3 id="添加archlinuxcn源">添加archlinuxcn源</h3>
<p>在<code>/etc/pacman.conf</code>文件末尾添加两行：</p>
<pre><code class="language-bash">[archlinuxcn]
Server = &lt;https://mirrors.ustc.edu.cn/archlinuxcn/$arch&gt;
</code></pre>
<h3 id="更新系统">更新系统</h3>
<pre><code class="language-bash">$ sudo pacman -Syyu
$ sudo pacman -S archlinuxcn-keyring
$ sudo pacman -Syyu
</code></pre>
<h3 id="安装中文输入法">安装中文输入法</h3>
<pre><code class="language-bash">$ sudo pacman -S fcitx-im（fcitx fcitx-gtk2 fcitx-gtk3） 
$ sudo pacman -S fcitx-configtool 
$ sudo pacman -S fcitx-sogoupinyin
</code></pre>
<p>之后 <code>vim ~/.xprofile</code>在文件中（没有则新建）添加</p>
<pre><code class="language-makefile">export GTK_IM_MODULE=fcitx 
export QT_IM_MODULE=fcitx 
export XMODIFIERS=”@im=fcitx”
</code></pre>
<p>登出之后再进入，就能正常使用输入法了</p>
<h2 id="2-zsh">2. zsh</h2>
<h3 id="安装zsh">安装zsh</h3>
<pre><code class="language-bash">$ sudo pacman -S zsh
</code></pre>
<p>不需要设置zsh</p>
<pre><code class="language-bash">$ chsh -s /bin/zsh
</code></pre>
<p>reboot (do not log out then log back)</p>
<h3 id="zsh-config">zsh config</h3>
<p><a href="https://github.com/skywind3000/vim/blob/master/etc/zshrc.zsh">https://github.com/skywind3000/vim/blob/master/etc/zshrc.zsh</a></p>
<p>将上面网页的内容复制到<code>.zshrc</code>中，重新打开即可（第一次开启会比较慢，因为要加载一些东西）</p>
<h2 id="3-选择终端">3. 选择终端</h2>
<p>Linux有许多终端可供选择，我经常使用的有<code>termite</code>, <code>alacritty</code>, <code>st</code> 。前两个都可以使用<code>pacman</code>直接安装，<code>st</code>推荐从源码编译安装。</p>
<h2 id="4-neofetch">4. neofetch</h2>
<h3 id="安装neofetch">安装neofetch</h3>
<p>在终端下运行</p>
<pre><code class="language-bash">$ sudo pacman -S neofetch
</code></pre>
<h3 id="运行neofetch">运行neofetch</h3>
<pre><code class="language-bash">$ neofetch
</code></pre>
<h3 id="配置neofetch显示自定义图片">配置neofetch显示自定义图片</h3>
<p>首先运行</p>
<pre><code class="language-bash">$ sudo pacman -S w3m imagemagick
</code></pre>
<p>安装所需依赖</p>
<p>使用</p>
<pre><code class="language-bash">$ vim ~/.config/neofetch/config.conf
</code></pre>
<p>进入neofetch的配置文件，找到<code># Backend Settings</code>，下面的内容就是跟显示自定义图片相关的，其中</p>
<p><code>image_backend=&quot;w3m&quot;</code>：指用哪个工具显示，这里我们设置为<code>w3m</code></p>
<p><code>image_source=&quot;wallpaper&quot;</code>：指显示的图片位置，这里我们设置为壁纸</p>
<p><code>crop_mode=&quot;fit&quot;</code>：指图片填充的样式，这里我们设置为<code>fit</code>模式，即选取图片合适的尺寸，具体区别请查看<a href="https://github.com/dylanaraps/neofetch/wiki/What-is-Waifu-Crop%3F">crop-mode</a></p>
<p><code>image_size=&quot;35%&quot;</code>：指图片显示的尺寸，这里我设置成原图片35%大小</p>
<p><code>gap=5</code>：指图片与文字的间隔（可以为负值）</p>
<p><code>Image offsets</code>：指图片距离左上角的距离，有<code>yoffset</code>、<code>xoffset</code>两种格式</p>
<p>在<code>.zshrc</code>最后加入<code>neofetch</code>以便每次启动zsh时启动neofetch</p>
<figure data-type="image" tabindex="2"><img src="https://i.loli.net/2018/12/24/5c20e0fda0f0b.png" alt="配置好neofetch的urxvt"></figure>
<h2 id="5-fq">5. FQ</h2>
<h3 id="安装electron-ssr-chromium-以及chrome插件switchomega">安装electron-ssr、chromium、以及chrome插件switchomega</h3>
<pre><code class="language-bash">$ sudo pacman -S electron-ssr chromium
</code></pre>
<p>以及下载switchomega，并在chrome的扩张程序中安装好</p>
<h3 id="设置ssr">设置SSR</h3>
<p>运行<code>electron-ssr</code>，复制下面的内容，右键单击任务栏中小飞机图标，选择<code>配置</code>-&gt;<code>从剪贴板批量导入配置</code>，</p>
<figure data-type="image" tabindex="3"><img src="https://i.loli.net/2018/12/24/5c20e0626b5c0.png" alt="ssr_config"></figure>
<p>将ssr链接粘贴进去即可</p>
<h3 id="设置chrome代理">设置chrome代理</h3>
<p>配置<code>switchyomega</code>，新建一个<code>proxy profile</code>起名为<code>ssr</code> ，协议选择<code>SOCKS5</code>，地址设置成<code>127.0.0.1</code>，端口<code>1080</code>，点击右上角的switchyomega图标，选择ssr，即可</p>

              </div>
              <div class="toc-container">
                <ul class="markdownIt-TOC">
<li>
<ul>
<li><a href="#1-%E5%AE%89%E8%A3%85%E5%AE%8C%E7%B3%BB%E7%BB%9F%E5%90%8E%E9%A6%96%E5%85%88%E8%A6%81%E5%81%9A%E7%9A%84%E5%B7%A5%E4%BD%9C">1. 安装完系统后首先要做的工作</a>
<ul>
<li><a href="#%E5%A2%9E%E5%8A%A0%E5%9B%BD%E5%86%85%E9%95%9C%E5%83%8F%E6%BA%90">增加国内镜像源</a></li>
<li><a href="#%E6%B7%BB%E5%8A%A0archlinuxcn%E6%BA%90">添加archlinuxcn源</a></li>
<li><a href="#%E6%9B%B4%E6%96%B0%E7%B3%BB%E7%BB%9F">更新系统</a></li>
<li><a href="#%E5%AE%89%E8%A3%85%E4%B8%AD%E6%96%87%E8%BE%93%E5%85%A5%E6%B3%95">安装中文输入法</a></li>
</ul>
</li>
<li><a href="#2-zsh">2. zsh</a>
<ul>
<li><a href="#%E5%AE%89%E8%A3%85zsh">安装zsh</a></li>
<li><a href="#zsh-config">zsh config</a></li>
</ul>
</li>
<li><a href="#3-%E9%80%89%E6%8B%A9%E7%BB%88%E7%AB%AF">3. 选择终端</a></li>
<li><a href="#4-neofetch">4. neofetch</a>
<ul>
<li><a href="#%E5%AE%89%E8%A3%85neofetch">安装neofetch</a></li>
<li><a href="#%E8%BF%90%E8%A1%8Cneofetch">运行neofetch</a></li>
<li><a href="#%E9%85%8D%E7%BD%AEneofetch%E6%98%BE%E7%A4%BA%E8%87%AA%E5%AE%9A%E4%B9%89%E5%9B%BE%E7%89%87">配置neofetch显示自定义图片</a></li>
</ul>
</li>
<li><a href="#5-fq">5. FQ</a>
<ul>
<li><a href="#%E5%AE%89%E8%A3%85electron-ssr-chromium-%E4%BB%A5%E5%8F%8Achrome%E6%8F%92%E4%BB%B6switchomega">安装electron-ssr、chromium、以及chrome插件switchomega</a></li>
<li><a href="#%E8%AE%BE%E7%BD%AEssr">设置SSR</a></li>
<li><a href="#%E8%AE%BE%E7%BD%AEchrome%E4%BB%A3%E7%90%86">设置chrome代理</a></li>
</ul>
</li>
</ul>
</li>
</ul>

              </div>
            </div>
          </article>
        </div>

        

        

        <div class="site-footer">
  Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a> | 
  <a class="rss" href="https://tobislee.github.io//atom.xml" target="_blank">RSS</a>
</div>

<script>
  hljs.initHighlightingOnLoad()

  let mainNavLinks = document.querySelectorAll(".markdownIt-TOC a");

  // This should probably be throttled.
  // Especially because it triggers during smooth scrolling.
  // https://lodash.com/docs/4.17.10#throttle
  // You could do like...
  // window.addEventListener("scroll", () => {
  //    _.throttle(doThatStuff, 100);
  // });
  // Only not doing it here to keep this Pen dependency-free.

  window.addEventListener("scroll", event => {
    let fromTop = window.scrollY;

    mainNavLinks.forEach((link, index) => {
      let section = document.getElementById(decodeURI(link.hash).substring(1));
      let nextSection = null
      if (mainNavLinks[index + 1]) {
        nextSection = document.getElementById(decodeURI(mainNavLinks[index + 1].hash).substring(1));
      }
      if (section.offsetTop <= fromTop) {
        if (nextSection) {
          if (nextSection.offsetTop > fromTop) {
            link.classList.add("current");
          } else {
            link.classList.remove("current");    
          }
        } else {
          link.classList.add("current");
        }
      } else {
        link.classList.remove("current");
      }
    });
  });

</script>

      </div>
    </div>
  </body>
</html>
